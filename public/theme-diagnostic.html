<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Theme Diagnostic</title>
    <style>
        body {
            font-family: monospace;
            padding: 20px;
            background: #fff;
        }
        .result {
            margin: 10px 0;
            padding: 10px;
            border: 1px solid #ccc;
            background: #f5f5f5;
        }
        button {
            padding: 10px 20px;
            margin: 5px;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <h1>Theme Diagnostic Tool</h1>

    <div>
        <button onclick="checkTheme()">Check Current Theme State</button>
        <button onclick="clearTheme()">Clear Theme to Light</button>
        <button onclick="setDark()">Force Dark</button>
        <button onclick="reloadPage()">Reload</button>
    </div>

    <div id="results"></div>

    <script>
        function checkTheme() {
            const results = document.getElementById('results');
            const html = document.documentElement;

            const info = `
                <div class="result">
                    <strong>HTML Element Classes:</strong><br>
                    "${html.className}"
                </div>
                <div class="result">
                    <strong>Has 'dark' class:</strong><br>
                    ${html.classList.contains('dark')}
                </div>
                <div class="result">
                    <strong>localStorage theme:</strong><br>
                    "${localStorage.getItem('theme')}"
                </div>
                <div class="result">
                    <strong>Body Background Color (computed):</strong><br>
                    ${window.getComputedStyle(document.body).backgroundColor}
                </div>
                <div class="result">
                    <strong>Body Color (computed):</strong><br>
                    ${window.getComputedStyle(document.body).color}
                </div>
                <div class="result">
                    <strong>All CSS Classes on HTML:</strong><br>
                    ${Array.from(html.classList).join(', ') || 'NONE'}
                </div>
            `;

            results.innerHTML = info;
        }

        function clearTheme() {
            localStorage.removeItem('theme');
            document.documentElement.classList.remove('dark');
            alert('Theme cleared to light. Check state or reload.');
        }

        function setDark() {
            localStorage.setItem('theme', 'dark');
            document.documentElement.classList.add('dark');
            alert('Theme set to dark. Check state or reload.');
        }

        function reloadPage() {
            window.location.reload();
        }

        // Auto-check on load
        window.addEventListener('load', checkTheme);
    </script>
</body>
</html>
